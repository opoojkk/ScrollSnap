# 📤 ScrollSnap 导出格式说明

ScrollSnap 支持三种图片格式导出，每种格式都有各自的特点和适用场景。

## 🎨 支持的格式

### 1. PNG - 无损高质量（默认推荐）

**特点：**
- ✅ 无损压缩，完美保留所有细节
- ✅ 支持透明背景（如果需要）
- ✅ 最适合文字、图表、截图
- ⚠️ 文件较大

**适用场景：**
- 长文章截图
- 文档和教程
- 包含文字的内容
- 需要打印的图片
- 需要最高质量

**文件大小：** 1000px 高度约 100-300KB

---

### 2. JPEG - 文件更小

**特点：**
- ✅ 文件体积小
- ✅ 广泛兼容
- ⚠️ 有损压缩
- ⚠️ 不支持透明背景

**适用场景：**
- 包含照片的页面
- 需要分享到社交媒体
- 存储空间有限
- 对质量要求不高

**文件大小：** 比 PNG 小 50-70%

**质量：** 默认 95%（高质量，压缩轻微）

---

### 3. WebP - 新格式（Chrome）

**特点：**
- ✅ 优秀的压缩效果
- ✅ 支持透明背景
- ✅ 平衡质量和大小
- ⚠️ 兼容性有限（Chrome/Edge）

**适用场景：**
- Chrome 浏览器用户
- 需要高质量但文件小
- 网页使用
- 现代平台分享

**文件大小：** 比 PNG 小 30-50%，质量接近 PNG

**兼容性：** Chrome, Edge, Firefox, Opera

---

## 💡 如何选择格式

### 选择 PNG 如果：
- ✓ 需要最高质量
- ✓ 内容主要是文字
- ✓ 需要打印
- ✓ 文件大小不是问题

### 选择 JPEG 如果：
- ✓ 需要分享到社交媒体
- ✓ 内容包含照片
- ✓ 需要节省空间
- ✓ 质量要求不高

### 选择 WebP 如果：
- ✓ 使用 Chrome 浏览器
- ✓ 需要平衡质量和大小
- ✓ 用于网页展示
- ✓ 接受者使用现代浏览器

---

## 📊 格式对比表

| 特性 | PNG | JPEG | WebP |
|------|-----|------|------|
| 压缩 | 无损 | 有损 | 有损/无损 |
| 透明背景 | ✅ | ❌ | ✅ |
| 文件大小 | 大 | 小 | 中 |
| 文字清晰度 | 完美 | 良好 | 优秀 |
| 照片质量 | 完美 | 优秀 | 优秀 |
| 浏览器兼容 | 100% | 100% | 95%+ |
| 推荐场景 | 文档/截图 | 照片/分享 | 平衡需求 |

---

## 🔧 使用方法

### 在扩展中选择格式

1. 打开 ScrollSnap 扩展
2. 在"导出格式"下拉菜单中选择：
   - **PNG** - 无损高质量（推荐）
   - **JPEG** - 文件更小
   - **WebP** - 新格式（Chrome）
3. 选择后，下载按钮会显示当前格式
4. 正常使用截图功能
5. 点击"下载长图"时会使用选择的格式

### 默认设置

- **默认格式**：PNG
- **JPEG 质量**：95%（高质量）
- **WebP 质量**：95%（高质量）

---

## 📐 技术细节

### PNG 导出

```javascript
canvas.toDataURL('image/png')
```

- 无损压缩
- 支持全色彩
- 适合所有内容类型

### JPEG 导出

```javascript
canvas.toDataURL('image/jpeg', 0.95)
```

- 质量参数：0.0 - 1.0
- 默认 0.95（高质量）
- 适合照片和复杂图像

### WebP 导出

```javascript
canvas.toDataURL('image/webp', 0.95)
```

- 现代格式
- 优秀的压缩算法
- Chrome 原生支持

---

## 🎯 最佳实践

### 文档和文章（推荐 PNG）

```
内容：文字为主
推荐：PNG
理由：无损，文字最清晰
```

### 图文混合（推荐 WebP）

```
内容：文字 + 图片
推荐：WebP
理由：平衡质量和大小
```

### 照片为主（推荐 JPEG）

```
内容：照片、插图
推荐：JPEG
理由：压缩效果好，质量足够
```

### 社交分享（推荐 JPEG）

```
平台：微博、微信、Twitter
推荐：JPEG
理由：兼容性好，文件小
```

---

## ❓ 常见问题

### Q: 哪种格式质量最好？

**A:** PNG 是无损格式，质量最好，但文件也最大。

### Q: WebP 可以在手机上查看吗？

**A:** 现代浏览器（Chrome、Edge、Firefox）都支持，但某些老设备可能不支持。建议使用前确认。

### Q: 如何减小文件大小？

**A:**
1. 选择 JPEG 或 WebP 格式
2. 减小选择区域的宽度
3. 减少捕获的帧数

### Q: PNG 文件太大怎么办？

**A:**
- 换用 WebP（质量接近，文件小 30-50%）
- 或使用 JPEG（文件小 50-70%）
- 或使用在线压缩工具

### Q: 导出后能转换格式吗？

**A:** 可以使用在线工具或图片编辑软件转换：
- CloudConvert: https://cloudconvert.com
- TinyPNG: https://tinypng.com
- Squoosh: https://squoosh.app

---

## 🔍 文件大小估算

以 800px 宽，5000px 高的长图为例：

| 格式 | 估算大小 | 实际范围 |
|------|---------|---------|
| PNG | 500KB | 300KB-800KB |
| JPEG | 200KB | 100KB-400KB |
| WebP | 300KB | 150KB-500KB |

*实际大小取决于内容复杂度*

---

## 💾 导出质量设置

当前版本使用固定的高质量设置：

- **JPEG 质量**：0.95（95%）
- **WebP 质量**：0.95（95%）
- **PNG**：无损（不需要质量参数）

未来版本可能会添加质量滑块，让用户自定义压缩比例。

---

## 🌟 推荐配置

**一般使用：**
```
格式：PNG
场景：文档、文章、截图
```

**空间有限：**
```
格式：WebP
场景：需要平衡质量和大小
```

**快速分享：**
```
格式：JPEG
场景：社交媒体、聊天
```

---

**选择适合你的格式，享受高质量长图！** 📸✨
