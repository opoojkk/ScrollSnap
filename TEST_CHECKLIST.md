# ScrollSnap 功能测试清单

使用此清单确保所有功能正常工作。

## 准备工作

- [ ] 扩展已安装到 Chrome（访问 `chrome://extensions/`）
- [ ] 扩展已启用（开关是蓝色）
- [ ] 打开测试页面（推荐：https://zh.wikipedia.org）

## 测试 1: 选择区域

- [ ] 点击扩展图标，弹出窗口出现
- [ ] 点击"选择区域"按钮
- [ ] 看到状态提示："正在启动选择模式..."
- [ ] 看到成功提示："✓ 已进入选择模式，请在页面上拖动鼠标"
- [ ] 弹出窗口自动关闭
- [ ] 页面出现半透明黑色遮罩
- [ ] 顶部中央显示："📌 拖动鼠标选择要截图的区域"
- [ ] 鼠标变成十字形

## 测试 2: 拖动选择

- [ ] 按住鼠标左键并拖动
- [ ] 看到绿色选择框跟随鼠标
- [ ] 松开鼠标
- [ ] 遮罩消失
- [ ] 显示两个按钮："✓ 确认选择" 和 "✗ 取消"
- [ ] 顶部显示："✓ 区域已选择，点击确认或取消"

## 测试 3: 确认选择

- [ ] 点击"✓ 确认选择"按钮
- [ ] 按钮消失
- [ ] 选择框消失
- [ ] 顶部显示："✓ 区域已确认！现在可以开始截图"

## 测试 4: 开始截图

- [ ] 再次点击扩展图标
- [ ] "开始截图"按钮已启用（不是灰色）
- [ ] 点击"开始截图"按钮
- [ ] 看到提示："正在启动截图模式..."
- [ ] 看到成功提示："✓ 滚动截图已开启，滚动页面进行捕获"
- [ ] 页面上选定区域有蓝色边框
- [ ] 边框上方显示："📸 滚动截图中... (滚动页面进行截图)"
- [ ] 周围有半透明黑色遮罩
- [ ] "开始截图"按钮变灰（禁用）
- [ ] "停止截图"按钮启用

## 测试 5: 滚动捕获

- [ ] 使用鼠标滚轮向下滚动
- [ ] 右上角短暂显示："✓ 已捕获 1 张截图"
- [ ] 继续滚动
- [ ] 每次滚动后都看到捕获提示
- [ ] 计数递增："✓ 已捕获 2 张截图"、"✓ 已捕获 3 张截图"...

## 测试 6: 停止截图

- [ ] 点击扩展图标
- [ ] 点击"停止截图"按钮
- [ ] 蓝色边框和遮罩消失
- [ ] 看到提示："✓ 已捕获 N 张截图"
- [ ] "停止截图"按钮变灰
- [ ] "下载截图"按钮启用

## 测试 7: 下载截图

- [ ] 点击"下载截图"按钮
- [ ] 看到提示："正在准备下载..."
- [ ] 看到成功提示："✓ 截图已开始下载"
- [ ] 浏览器开始下载文件
- [ ] 检查下载文件夹，看到文件名格式：`scrollsnap_时间戳_1.png`
- [ ] 所有截图都已下载
- [ ] 打开截图查看内容是否正确

## 测试 8: 错误处理

### 8.1 在受限页面测试
- [ ] 打开 `chrome://extensions/`
- [ ] 点击扩展图标，点击"选择区域"
- [ ] 看到警告："⚠️ 此页面不支持扩展功能"

### 8.2 未选择区域直接截图
- [ ] 刷新测试页面
- [ ] 点击扩展图标，直接点击"开始截图"
- [ ] 看到提示："✗ 请先选择区域"

### 8.3 重复操作
- [ ] 选择区域后，立即再次点击"选择区域"
- [ ] 应该看到适当的提示

## 浏览器控制台检查

- [ ] 按 F12 打开开发者工具
- [ ] 切换到 Console 标签
- [ ] 刷新页面
- [ ] 看到：`✓ ScrollSnap content script loaded and ready`
- [ ] 执行各项操作时看到相应的日志

## 性能检查

- [ ] 选择区域时页面响应流畅
- [ ] 拖动选择框时没有卡顿
- [ ] 滚动时截图不影响页面性能
- [ ] 下载多张截图时浏览器不卡死

## 清理测试

- [ ] 下载完成后，再次点击扩展图标
- [ ] 可以重新开始选择区域
- [ ] 可以选择不同的区域
- [ ] 可以重复整个流程

---

## 测试结果

**测试日期**：____________
**浏览器版本**：____________
**操作系统**：____________

**通过项目数**：_____ / 总共 _____
**失败项目**（如有）：

```
在此记录失败的测试项目和错误信息
```

**备注**：

```
其他需要说明的问题或建议
```

---

✅ **全部通过** = 可以正常使用！
⚠️ **部分失败** = 查看 DEBUG.md 进行故障排查
❌ **大部分失败** = 重新安装扩展或检查浏览器版本
